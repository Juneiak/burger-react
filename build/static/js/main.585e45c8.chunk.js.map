{"version":3,"sources":["components/modals/modal-overlay/modal-overlay.module.css","pages/order-info/order-info-page.module.css","pages/constructor/constructor-page.module.css","components/burger-constructor/filling.module.css","components/order-card-list/order-card-list.module.css","pages/ingredient-details/ingredient-details-page.module.css","pages/feed/feed-page.module.css","components/app-header/app-header.module.css","services/constants/index.ts","services/reducers/index-reducer.ts","services/reducers/auth-reducer.ts","services/reducers/order-reduсer.ts","services/reducers/ws-reducer.ts","services/root-reducer.ts","services/actions/ws-actions.ts","services/middleware/socket-middleware.tsx","services/store/store.ts","reportWebVitals.ts","components/app-header/app-header.tsx","utils/api-utils.js","utils/cookie-utils.js","utils/utils.js","utils/api.js","services/actions/auth.ts","services/hooks.ts","components/hocs/protected-route.tsx","components/ingredient-details/ingredient-details.tsx","components/modals/modal-overlay/modal-overlay.tsx","components/modals/modal/modal.tsx","services/actions/index.ts","components/order-info/order-info.tsx","services/actions/order.ts","pages/order-info/order-info-page.tsx","components/burger-ingredients/ingredient.tsx","components/burger-ingredients/burger-ingredients.tsx","components/burger-constructor/filling.tsx","components/burger-constructor/burger.tsx","components/burger-constructor/burger-constructor.tsx","images/done.png","components/order-details/order-details.tsx","pages/constructor/constructor-page.tsx","pages/login/login-page.tsx","pages/register/register-page.tsx","pages/forgot/forgot-page.tsx","pages/reset/reset-page.tsx","components/about-profile/about-profile.tsx","components/order-card-list/order-card.tsx","components/order-card-list/order-card-list.tsx","components/order-history/order-history.tsx","pages/profile/profile-page.tsx","pages/not-found/not-found.tsx","pages/ingredient-details/ingredient-details-page.tsx","pages/feed/feed-page.tsx","app/app.tsx","index.tsx","components/order-info/order-info.module.css","components/burger-ingredients/burger-ingredients.module.css","components/order-card-list/order-card.module.css","pages/profile/profile-page.module.css","components/burger-ingredients/ingredient.module.css","components/burger-constructor/burger.module.css","pages/login/login-page.module.css","components/ingredient-details/ingredient-details.module.css","pages/register/register-page.module.css","pages/forgot/forgot-page.module.css","pages/reset/reset-page.module.css","components/burger-constructor/burger-constructor.module.css","components/order-details/order-details.module.css","components/modals/modal/modal.module.css","components/about-profile/about-profile.module.css","pages/not-found/not-found.module.css","app/app.module.css"],"names":["module","exports","SET_INGREDIENTS_LIST","SET_INGREDIENTS_LIST_IS_LOADING","SET_INGREDIENTS_LIST_IS_ERROR","SELECT_INGREDIENT","REMOVE_SELECTED_INGREDIENT","UPDATE_SELECTED_INGREDIENT","ADD_INGREDIENT_INTO_CONSTRUCTOR","REMOVE_INGREDIENT_FROM_CONSTRUCTOR","CLEAR_CONSTRUCTOR","SET_USER","REMOVE_USER","WS_CONNECTION_START","WS_CONNECTION_ERROR","WS_CONNECTION_SUCCESS","WS_GET_ORDERS","WS_CONNECTION_CLOSED","WS_SEND","SELECT_ORDER","REMOVE_SELECTED_ORDER","SET_ORDER_DETAILS","CLEAR_ORDER_DETAILS","inititialIngredientsState","ingredientsList","ingredientListIsLoaded","ingredientListIsError","selectedIngredient","constructorList","selectedBun","indexReducer","state","action","type","data","ingredientType","find","ingredient","_id","id","newIngredient","filter","ingredientIndex","index","to","toInsertIndex","from","toRemoveIndex","ingredientToMove","increment","foundIngredient","initialUserState","user","authReducer","res","inititialOrdersState","orderDetails","selectedOrder","orderReducer","initialState","wsConnected","ordersInfo","error","wsReducer","payload","message","rootReducer","combineReducers","auth","order","ws","wsConnectionStart","wsUrl","socketMiddleware","store","socket","next","dispatch","WebSocket","onopen","event","wsConnectionSuccess","onerror","wsConnectionError","onclose","wsConnectionClosed","onmessage","parsedData","JSON","parse","wsGetOrders","send","stringify","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","initStore","createStore","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","AppHeader","className","headerStyles","header","menu","menuList","listItem","exact","link","activeClassName","activeProfileLink","style","color","logo","profile","apiUrl","apiAuthUrl","checkResponse","response","ok","json","success","Promise","reject","setCookie","name","value","props","exp","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","document","cookie","getCookie","matches","match","RegExp","replace","decodeURIComponent","undefined","stripBearerToken","token","split","fetchWithRefresh","url","options","fetch","catch","err","status","Rtoken","localStorage","getItem","method","headers","body","accessToken","setItem","refreshToken","Authorization","setUser","logout","console","log","removeItem","getUser","useDispatch","dispatchHook","useSelector","selectorHook","ProtectedRoute","children","restProps","React","useState","isLoaded","setIsLoaded","currentUser","a","useEffect","init","render","location","pathname","IngredientDetails","ingredientDetailsStyles","content","title","src","image","alt","nutrients","calories","proteins","fat","carbohydrates","modalRoot","querySelector","ModalOverlay","onClose","ReactDOM","createPortal","onClick","evt","target","currentTarget","ModalOverlayStyles","modalOverlay","Modal","isOpen","closeByEsc","key","addEventListener","removeEventListener","ModalStyles","modal","closeButton","selectIngredient","removeSelectedIngredient","getIngredientsList","setIngredientsList","OrderInfo","ingredientsToDisplay","setIngredientsToDisplay","totalPrice","selectedIngredients","number","createdTime","allKindOfIngredients","forEach","elementX","elementY","push","map","amount","element","length","styles","about","info","price","total","footer","selectOrder","clearOrder","getOrderDetails","orderList","ingredients","setOrdersDetails","OrderInfoPage","useRouteMatch","orders","useParams","aToken","createdAt","toDateString","includes","reduce","sum","main","Ingredient","ingredientData","count","setCount","history","useHistory","useLocation","useDrag","item","collect","monitor","opacity","isDragging","dragRef","ref","IngredientStyles","ingredientsMenuItem","background","size","ingredientImage","cost","BurgerIngredients","current","setCurrent","containerRef","useRef","bunListRef","sauceListRef","mainListRef","burgerIngredientsSyles","burgerIngredients","display","active","onScroll","containerYPoition","getBoundingClientRect","y","bunYPoition","sauceYPoition","mainYPoition","Math","abs","menuItem","typeName","ingredientsMenu","Filling","isFillingDrag","fillinDragRef","useDrop","accept","drop","isFillingHover","isOver","fillingDropRef","handleRemoveClick","removeIngredientFromConstructor","paddingTop","FillingStyles","text","thumbnail","handleClose","Burger","isIngredientHover","ingredientDropRef","border","fillingChoiсe","BurgerStyles","bunChoiсe","burger","bun","isLocked","BurgerConstructor","setTotal","bunPrice","prevValue","BurgerConstructorStyles","burgerConstructor","confirmButton","OrderDetails","OrderDetailsStyles","orderNumber","doneImage","done","ConstructorPage","ConstructorPageStyles","LoginPage","emailValue","setEmailValue","passwordValue","setPasswordValue","LoginPageStyles","onSubmit","loginData","preventDefault","email","password","form","placeholder","onChange","e","errorText","icon","nav","RegisterPage","nameValue","setNameValue","RegisterPageStyles","registerData","ForgotPage","emailRestoreValue","setEmailRestoreValue","ForgotPageStyles","restoreData","codeIsSended","ResetPage","newPasswordValue","setNewPasswordValue","codeValue","setCodeValue","ResetPageStyles","resetData","AboutProfile","setInitialData","AboutProfileStyles","aboutProfile","buttons","newProfileData","OrderCard","statusBar","orderData","setTotalPrice","setSelectedIngredients","setCreatedTime","ingredientID","ingredientsToShow","restIngredients","splice","card","list","selectedIngredientsList","zIndex","backgroundImage","restIngredientsCount","OrderCardList","OrderHistory","reversedOrders","Array","reverse","ProfilePage","path","ProfilePageStyles","profileNav","navList","activeLink","exictButton","routeSide","NotFound","notFound","IngredientDetailsPage","listIsLoaded","listIsError","goBack","FeedPage","pendingOrders","setPendingOrders","doneOrders","setDoneOrders","totalToday","pendingOrdersNumber","doneOrdersNumber","grid","statusLists","statusList","orderId","stats","App","AppStyles","app","StrictMode","DndProvider","backend","HTML5Backend","getElementById"],"mappings":"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","file":"static/js/main.585e45c8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalOverlay\":\"modal-overlay_modalOverlay__qhBq8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"order-info-page_main__eRfnv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"constructor-page_main__34Uax\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient\":\"filling_ingredient__BTLzX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"order-card-list_list__3bxhW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"ingredient-details-page_main__3096E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"feed-page_main__YYQve\",\"title\":\"feed-page_title__2_YE2\",\"grid\":\"feed-page_grid__1VTGW\",\"orderList\":\"feed-page_orderList__2NjUA\",\"ordersInfo\":\"feed-page_ordersInfo__34Ldz\",\"statusLists\":\"feed-page_statusLists__3Pefp\",\"statusList\":\"feed-page_statusList__3D2tO\",\"orderId\":\"feed-page_orderId__1NvS5\",\"stats\":\"feed-page_stats__3dOFK\",\"number\":\"feed-page_number__3mjto\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__1iHLW\",\"menu\":\"app-header_menu__3SLom\",\"logo\":\"app-header_logo__zVEfY\",\"profile\":\"app-header_profile__2xjkN\",\"link\":\"app-header_link__2y8TU\",\"menuList\":\"app-header_menuList__7wAoR\",\"activeProfileLink\":\"app-header_activeProfileLink__z79q0\"};","export const SET_INGREDIENTS_LIST: 'SET_INGREDIENTS_LIST' = 'SET_INGREDIENTS_LIST';\nexport const SET_INGREDIENTS_LIST_IS_LOADING: 'SET_INGREDIENTS_LIST_IS_LOADING' = 'SET_INGREDIENTS_LIST_IS_LOADING';\nexport const SET_INGREDIENTS_LIST_IS_ERROR: 'SET_INGREDIENTS_LIST_IS_ERROR' = 'SET_INGREDIENTS_LIST_IS_ERROR';\nexport const SELECT_INGREDIENT: 'SELECT_INGREDIENT' = 'SELECT_INGREDIENT';\nexport const REMOVE_SELECTED_INGREDIENT: 'REMOVE_SELECTED_INGREDIENT' = 'REMOVE_SELECTED_INGREDIENT';\nexport const UPDATE_SELECTED_INGREDIENT: 'UPDATE_SELECTED_INGREDIENT' = 'UPDATE_SELECTED_INGREDIENT';\nexport const ADD_INGREDIENT_INTO_CONSTRUCTOR: 'ADD_INGREDIENT_INTO_CONSTRUCTOR' = 'ADD_INGREDIENT_INTO_CONSTRUCTOR';\nexport const REMOVE_INGREDIENT_FROM_CONSTRUCTOR: 'REMOVE_INGREDIENT_FROM_CONSTRUCTOR' = 'REMOVE_INGREDIENT_FROM_CONSTRUCTOR';\nexport const CLEAR_CONSTRUCTOR: 'CLEAR_CONSTRUCTOR' = 'CLEAR_CONSTRUCTOR';\n\nexport const SET_USER: 'SET_USER' = 'SET_USER';\nexport const REMOVE_USER: 'REMOVE_USER' = 'REMOVE_USER';\n\nexport const WS_CONNECTION_START: 'WS_CONNECTION_START' = 'WS_CONNECTION_START';\nexport const WS_CONNECTION_ERROR: 'WS_CONNECTION_ERROR' = 'WS_CONNECTION_ERROR';\nexport const WS_CONNECTION_SUCCESS: 'WS_CONNECTION_SUCCESS' = 'WS_CONNECTION_SUCCESS';\nexport const WS_GET_ORDERS: 'WS_GET_ORDERS' = 'WS_GET_ORDERS';\nexport const WS_CONNECTION_CLOSED: 'WS_CONNECTION_CLOSED' = 'WS_CONNECTION_CLOSED';\nexport const WS_SEND: 'WS_SEND' = 'WS_SEND';\n\nexport const SELECT_ORDER: 'SELECT_ORDER' = 'SELECT_ORDER';\nexport const REMOVE_SELECTED_ORDER: 'REMOVE_SELECTED_ORDER' = 'REMOVE_SELECTED_ORDER';\nexport const SET_ORDER_DETAILS: 'GET_ORDER_DETAILS' = 'GET_ORDER_DETAILS';\nexport const CLEAR_ORDER_DETAILS: 'CLEAR_ORDER_DETAILS' = 'CLEAR_ORDER_DETAILS';\n","import {\n  SET_INGREDIENTS_LIST,\n  SELECT_INGREDIENT,\n  REMOVE_SELECTED_INGREDIENT,\n  ADD_INGREDIENT_INTO_CONSTRUCTOR,\n  REMOVE_INGREDIENT_FROM_CONSTRUCTOR,\n  CLEAR_CONSTRUCTOR,\n  UPDATE_SELECTED_INGREDIENT,\n  SET_INGREDIENTS_LIST_IS_LOADING,\n  SET_INGREDIENTS_LIST_IS_ERROR,\n} from '../constants/index';\nimport { TIndexActions } from '../actions/index';\nimport { TIngredient } from '../types/data/index';\n\ntype TInititialIngredientsState = {\n  ingredientsList: ReadonlyArray<TIngredient>,\n  ingredientListIsLoaded: boolean,\n  ingredientListIsError: boolean,\n  selectedIngredient: TIngredient | {\n    _id?: string,\n    image?: string,\n    calories?: number,\n    name?: string,\n    proteins?: number,\n    carbohydrates?: number,\n    fat?: number,\n  },\n  constructorList: Array<TIngredient> | [],\n  selectedBun: TIngredient | { _id?: string, price?: number, name?: string, image?: string},\n};\n\nconst inititialIngredientsState: TInititialIngredientsState = {\n  ingredientsList: [],\n  ingredientListIsLoaded: false,\n  ingredientListIsError: false,\n  selectedIngredient: {},\n  constructorList: [],\n  selectedBun: {},\n};\nconst indexReducer = (\n  state = inititialIngredientsState,\n  action: TIndexActions,\n): TInititialIngredientsState => {\n  switch (action.type) {\n    case SET_INGREDIENTS_LIST: {\n      return {\n        ...state,\n        ingredientsList: action.data,\n        ingredientListIsLoaded: true,\n        ingredientListIsError: false,\n      };\n    }\n\n    case (SET_INGREDIENTS_LIST_IS_LOADING): {\n      return {\n        ...state,\n        ingredientListIsLoaded: false,\n      };\n    }\n\n    case (SET_INGREDIENTS_LIST_IS_ERROR): {\n      return {\n        ...state,\n        ingredientListIsLoaded: true,\n        ingredientListIsError: true,\n      };\n    }\n\n    case ADD_INGREDIENT_INTO_CONSTRUCTOR: {\n      if (action.ingredientType === 'bun') {\n        const selectedBun = state.ingredientsList.find((ingredient) => ingredient._id === action.id)\n        return {\n          ...state,\n          selectedBun: selectedBun ? selectedBun : {},\n        };\n      }\n      const newIngredient = state.ingredientsList.find((ingredient) => ingredient._id === action.id)\n      if (newIngredient) return {...state, constructorList: [...state.constructorList, newIngredient]\n      }\n      return state;\n    }\n\n    case REMOVE_INGREDIENT_FROM_CONSTRUCTOR: {\n      return {\n        ...state,\n        constructorList: state\n          .constructorList\n          .filter((ingredient, ingredientIndex) => ingredientIndex !== action.index),\n      };\n    }\n\n    case UPDATE_SELECTED_INGREDIENT: {\n      const { constructorList } = state;\n      const to = action.toInsertIndex;\n      const from = action.toRemoveIndex;\n\n      const ingredientToMove = constructorList[from];\n      const increment = to < from ? -1 : 1;\n      for (var index = from; index !== to; index += increment) {\n        constructorList[index] = constructorList[index + increment];\n      }\n      constructorList[to] = ingredientToMove;\n      return {\n        ...state,\n        constructorList: [...constructorList],\n      };\n    }\n\n    case CLEAR_CONSTRUCTOR: {\n      return {\n        ...state,\n        constructorList: [],\n        selectedBun: {},\n      };\n    }\n\n    case SELECT_INGREDIENT: {\n\n      const foundIngredient = state.ingredientsList.find((ingredient) => ingredient._id === action.id)\n      if (foundIngredient) return {...state, selectedIngredient: foundIngredient};\n      return state;\n    }\n\n    case REMOVE_SELECTED_INGREDIENT: {\n      return {\n        ...state,\n        selectedIngredient: {},\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default indexReducer;\n","import { SET_USER, REMOVE_USER } from '../constants/index';\nimport { TAuthActions } from '../actions/auth.js';\nimport { TUser } from '../types/data/index';\n\ntype TInitialUserState = {\n  user: TUser | {};\n}\n\nconst initialUserState: TInitialUserState = {\n  user: {},\n};\n\nconst authReducer = (state = initialUserState, action: TAuthActions) => {\n  switch (action.type) {\n    case SET_USER: {\n      const res = {\n        ...state,\n        user: action.data,\n      };\n      return res;\n    }\n    case REMOVE_USER: {\n      return {\n        ...state,\n        user: {},\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","import {\n  SELECT_ORDER,\n  REMOVE_SELECTED_ORDER,\n  SET_ORDER_DETAILS,\n  CLEAR_ORDER_DETAILS,\n} from '../constants/index';\nimport { TOrderActions } from '../actions/order';\nimport { TParsedOrder, TOrderDetails } from '../types/data/index';\n\ntype TInitialOrdersState = {\n  orderDetails: TOrderDetails | {};\n  selectedOrder: TParsedOrder | { _id?: string };\n}\n\nconst inititialOrdersState: TInitialOrdersState = {\n  orderDetails: {},\n  selectedOrder: {},\n};\n\nconst orderReducer = (state = inititialOrdersState, action: TOrderActions) => {\n  switch (action.type) {\n    case SELECT_ORDER: {\n      return {\n        ...state,\n        selectedOrder: action.data,\n      };\n    }\n\n    case REMOVE_SELECTED_ORDER: {\n      return {\n        ...state,\n        selectedOrder: {},\n      };\n    }\n\n    case SET_ORDER_DETAILS: {\n      return {\n        ...state,\n        orderDetails: action.orderDetails,\n      };\n    }\n\n    case CLEAR_ORDER_DETAILS: {\n      return {\n        ...state,\n        orderDetails: {},\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default orderReducer;\n","import {\n  WS_CONNECTION_ERROR,\n  WS_CONNECTION_SUCCESS,\n  WS_GET_ORDERS,\n  WS_CONNECTION_CLOSED,\n} from '../constants/index';\nimport { TWsActions } from '../actions/ws-actions';\nimport { TOrdersInfo } from '../types/data/index';\n\ntype TInitialState = {\n  wsConnected: boolean;\n  ordersInfo: TOrdersInfo | {};\n  error: string;\n}\n\nconst initialState: TInitialState = {\n  wsConnected: false,\n  ordersInfo: {},\n  error: '',\n};\n\nconst wsReducer = (state = initialState, action: TWsActions) => {\n  switch (action.type) {\n    case WS_CONNECTION_ERROR:\n      return {\n        ...state,\n        error: action.payload.message,\n        wsConnected: false,\n      };\n\n    case WS_CONNECTION_SUCCESS:\n      return {\n        ...state,\n        wsConnected: true,\n        error: '',\n      };\n\n    case WS_GET_ORDERS:\n      return {\n        ...state,\n        wsConnected: true,\n        error: '',\n        ordersInfo: action.payload,\n      };\n\n    case WS_CONNECTION_CLOSED:\n      return {\n        ...state,\n        wsConnected: false,\n        error: '',\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default wsReducer;\n","import { combineReducers } from 'redux';\nimport indexReducer from './reducers/index-reducer';\nimport authReducer from './reducers/auth-reducer';\nimport orderReducer from './reducers/order-reduсer';\nimport wsReducer from './reducers/ws-reducer';\n\nconst rootReducer = combineReducers({\n  index: indexReducer,\n  auth: authReducer,\n  order: orderReducer,\n  ws: wsReducer,\n});\n\nexport default rootReducer;\n","import {\n  WS_CONNECTION_START,\n  WS_CONNECTION_ERROR,\n  WS_CONNECTION_SUCCESS,\n  WS_GET_ORDERS,\n  WS_CONNECTION_CLOSED,\n  WS_SEND,\n} from '../constants';\n\nexport interface IWsConnectionStart {\n  type: typeof WS_CONNECTION_START;\n  wsUrl: string;\n}\n\nexport interface IWsConnectionError {\n  type: typeof WS_CONNECTION_ERROR;\n  payload?: any;\n}\n\nexport interface IWsConnectionSuccess {\n  type: typeof WS_CONNECTION_SUCCESS;\n  payload?: any;\n}\n\nexport interface IWsGetOrders {\n  type: typeof WS_GET_ORDERS;\n  payload: any;\n}\n\nexport interface IWsConnectionClosed {\n  type: typeof WS_CONNECTION_CLOSED;\n  payload?: any;\n}\n\nexport interface IWsSend {\n  type: typeof WS_SEND;\n}\n\nexport type TWsActions =\n| IWsConnectionStart\n| IWsConnectionError\n| IWsConnectionSuccess\n| IWsGetOrders\n| IWsConnectionClosed\n| IWsConnectionClosed\n| IWsSend\n\nexport const wsConnectionStart = (wsUrl: string): IWsConnectionStart => ({\n  type: WS_CONNECTION_START,\n  wsUrl,\n});\n\nexport const wsConnectionError = (payload: any): IWsConnectionError => ({\n  type: WS_CONNECTION_ERROR,\n  payload,\n});\n\nexport const wsConnectionSuccess = (payload: any): IWsConnectionSuccess => ({\n  type: WS_CONNECTION_SUCCESS,\n  payload,\n});\n\nexport const wsGetOrders = (parsedData: any): IWsGetOrders => ({\n  type: WS_GET_ORDERS,\n  payload: parsedData,\n});\n\nexport const wsConnectionClosed = (payload: any): IWsConnectionClosed => ({\n  type: WS_CONNECTION_CLOSED,\n  payload,\n});\n\nexport const wsSend = (): IWsSend => ({\n  type: WS_SEND,\n});\n","import {\n  wsConnectionError,\n  wsConnectionSuccess,\n  wsGetOrders,\n  wsConnectionClosed,\n} from '../actions/ws-actions';\n\nimport { WS_CONNECTION_START, WS_SEND } from '../constants/index';\n\nconst socketMiddleware = () => (store: any) => {\n  let socket: any = null;\n  return (next: any) => (action: any) => {\n    const { dispatch } = store; // here is a getState\n    const { type, payload } = action;\n\n    if (type === WS_CONNECTION_START) {\n      socket = new WebSocket(action.wsUrl);\n    }\n    if (socket) {\n      socket.onopen = (event: any) => {\n        dispatch(wsConnectionSuccess(event));\n      };\n\n      socket.onerror = (event: any) => {\n        dispatch(wsConnectionError(event));\n      };\n\n      socket.onclose = (event: any) => {\n        dispatch(wsConnectionClosed(event));\n      };\n\n      socket.onmessage = (event: any) => {\n        const { data } = event;\n        const parsedData = JSON.parse(data);\n        dispatch(wsGetOrders(parsedData));\n      };\n\n      if (type === WS_SEND) {\n        const message = payload;\n        socket.send(JSON.stringify(message));\n      }\n    }\n\n    next(action);\n  };\n};\n\nexport default socketMiddleware;\n","import thunk from 'redux-thunk';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport rootReducer from '../root-reducer';\nimport socketMiddleware from '../middleware/socket-middleware';\n\nconst composeEnhancers = typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n  : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk, socketMiddleware()));\n\nconst initStore = (initialState = {}) => {\n  const store = createStore(\n    rootReducer,\n    initialState,\n    enhancer,\n  );\n  return store;\n};\n\nexport default initStore;\n\n// const initStore = (initialState = {}) => {\n//   const store = createStore(\n//     rootReducer,\n//     initialState,\n//     composeWithDevTools(applyMiddleware(thunkMiddleware, socketMiddleware()))\n//   )\n//   return store\n// }\n\n// export default initStore;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { Logo, BurgerIcon, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { NavLink } from 'react-router-dom';\nimport headerStyles from './app-header.module.css';\n\nexport function AppHeader() {\n  return (\n    <header className={`${headerStyles.header} pb-4 pt-4`}>\n      <nav className={headerStyles.menu}>\n        <ul className={headerStyles.menuList}>\n          <li className={headerStyles.listItem}>\n            <NavLink exact to=\"/\" className={`${headerStyles.link} p-5 mr-2`} activeClassName={headerStyles.activeProfileLink}>\n              <BurgerIcon type=\"secondary\" />\n              <p style={{ color: 'inherit' }} className=\"text text_type_main-default text_color_inactive ml-2\">Конструктор</p>\n            </NavLink>\n          </li>\n          <li className={headerStyles.listItem}>\n            <NavLink exact to=\"/feed\" className={`${headerStyles.link} p-5 mr-2`} activeClassName={headerStyles.activeProfileLink}>\n              <BurgerIcon type=\"secondary\" />\n              <p style={{ color: 'inherit' }} className=\"text text_type_main-default text_color_inactive ml-2\">Лента заказов</p>\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n      <div className={headerStyles.logo}><Logo /></div>\n\n      <div className={headerStyles.profile}>\n        <NavLink to=\"/profile\" className={`${headerStyles.link} p-5`} activeClassName={headerStyles.activeProfileLink}>\n          <ProfileIcon type=\"secondary\" />\n          <p style={{ color: 'inherit' }} className=\"text text_type_main-default ml-2\">Личный кабинет</p>\n        </NavLink>\n      </div>\n\n    </header>\n  );\n}\n","export const apiUrl = 'https://norma.nomoreparties.space/api';\nexport const apiAuthUrl = 'https://norma.nomoreparties.space/api/auth';\n\nexport function checkResponse(response) {\n  if (response.ok) {\n    return response.json().then(res => {\n      if (res.success) return res\n      return Promise.reject(res)\n    })\n  } else return Promise.reject(response)\n}\n","export function setCookie(name, value, props) {\n  props = props || {};\n  let exp = props.expires;\n  if (typeof exp == 'number' && exp) {\n    const d = new Date();\n    d.setTime(d.getTime() + exp * 1000);\n    exp = props.expires = d;\n  }\n  if (exp && exp.toUTCString) {\n    props.expires = exp.toUTCString();\n  } \n  value = encodeURIComponent(value);\n  let updatedCookie = name + '=' + value;\n  for (const propName in props) {\n    updatedCookie += '; ' + propName;\n    const propValue = props[propName];\n    if (propValue !== true) {\n      updatedCookie += '=' + propValue;\n    }\n  }\n  document.cookie = updatedCookie + \"; path=/\";\n}\n\nexport function getCookie(name) {\n  const matches = document.cookie.match(\n    new RegExp('(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)')\n  );\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\n\nexport function deleteCookie(name) {\nsetCookie(name, null, { expires: -1 });\n} ","export const stripBearerToken = (token) => {\n  return token.split('Bearer ')[1]\n}\n","import { apiAuthUrl, apiUrl, checkResponse } from \"./api-utils\";\nimport {setCookie, getCookie} from './cookie-utils';\nimport { stripBearerToken } from \"./utils\";\n\nexport const resetPassword = (resetData) => {\n  return fetch(`${apiUrl}/password-reset/reset`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(resetData)\n  })\n    .then(checkResponse)\n}\n\nexport const sendCode = (restoreData) => {\n  return fetch(`${apiUrl}/password-reset`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(restoreData)\n  })\n    .then(checkResponse)\n}\n\nexport const refreshToken = () => {\n  const Rtoken = localStorage.getItem('Rtoken')\n  if (Rtoken) {\n    return fetch(`${apiAuthUrl}/token`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token: Rtoken\n      })\n    })\n      .then(checkResponse)\n      .then(data => {\n        setCookie('Atoken', stripBearerToken(data.accessToken))\n        localStorage.setItem('Rtoken', data.refreshToken)\n        return data\n      })\n      .catch(err => Promise.reject('refresh error'))\n  } else return Promise.reject('Rtoken issue')\n}\n\nexport const fetchWithRefresh = (url, options) => {\n  return fetch(url, options)  \n    .then(checkResponse)\n    .catch(err => {\n      if (err.message === 'jwt expired' || err.status === 403) {\n        return refreshToken()\n          .then(data => {\n            options.headers.Authorization = \"Bearer \" + getCookie('Atoken')\n             return fetch(url, options)\n          })\n          .then(checkResponse)\n      } return Promise.reject(err)\n    })\n}\n\n","import { apiAuthUrl, checkResponse } from '../../utils/api-utils';\nimport { setCookie, getCookie, deleteCookie } from '../../utils/cookie-utils';\nimport { stripBearerToken } from '../../utils/utils';\nimport { fetchWithRefresh } from '../../utils/api';\nimport { SET_USER, REMOVE_USER } from '../constants/index';\nimport { AppThunk, AppDispatch } from '../types/index';\n\nexport interface ISetUser {\n  type: typeof SET_USER;\n  data: any;\n}\n\nexport interface IRemoveUser {\n  type: typeof REMOVE_USER;\n}\n\nexport type TAuthActions =\n| ISetUser\n| IRemoveUser\n\nexport const setUser = (user: any): ISetUser => ({\n  type: SET_USER,\n  data: user,\n});\n\nexport const removeUser = (): IRemoveUser => ({\n  type: REMOVE_USER,\n});\n\nexport const register: AppThunk = (registerData) => (\n  function (dispatch: AppDispatch) {\n    fetch(`${apiAuthUrl}/register`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(registerData),\n    })\n      .then(checkResponse)\n      .then((data) => {\n        dispatch(setUser(data.user));\n        localStorage.setItem('Rtoken', data.refreshToken);\n        setCookie('Atoken', stripBearerToken(data.accessToken));\n      })\n      .catch((err) => console.error(err));\n  }\n);\n\nexport const login: AppThunk = (loginData) => (\n  function (dispatch: AppDispatch) {\n    return fetch(`${apiAuthUrl}/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(loginData),\n    })\n      .then(checkResponse)\n      .then((data) => {\n        dispatch(setUser(data.user));\n        localStorage.setItem('Rtoken', data.refreshToken);\n        setCookie('Atoken', stripBearerToken(data.accessToken));\n        console.log('logged');\n      });\n  }\n);\n\nexport const logout: AppThunk = () => (\n  function (dispatch: AppDispatch) {\n    const Rtoken = localStorage.getItem('Rtoken');\n    if (Rtoken) {\n      return fetch(`${apiAuthUrl}/logout`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          token: Rtoken,\n        }),\n      })\n        .then(checkResponse)\n        .then((data) => {\n          console.log(data.message);\n          dispatch(removeUser());\n          localStorage.removeItem('Rtoken');\n          deleteCookie('Atoken');\n        })\n        .catch((err) => console.error(err));\n    }\n    console.error('you have already logut');\n    return Promise.reject();\n  }\n);\n\nexport const getUser: AppThunk = () => (\n  function (dispatch: AppDispatch) {\n    return fetchWithRefresh(`${apiAuthUrl}/user`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${getCookie('Atoken')}`,\n      },\n    })\n      .then((data) => {\n        dispatch(setUser(data.user));\n        return (data);\n      })\n      .catch((err) => console.error(err));\n  }\n);\n\nexport const changeProfileData: AppThunk = (newProfileData) => (\n  function (dispatch: AppDispatch) {\n    return fetchWithRefresh(`${apiAuthUrl}/user`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${getCookie('Atoken')}`,\n      },\n      body: JSON.stringify(newProfileData),\n    })\n      .then((data) => {\n        dispatch(setUser(data.user));\n      });\n  }\n);\n","import {\n  TypedUseSelectorHook,\n  useDispatch as dispatchHook,\n  useSelector as selectorHook,\n} from 'react-redux';\nimport { AppDispatch, RootState, AppThunk } from './types/index';\n\nexport const useDispatch = () => dispatchHook<AppDispatch | AppThunk>();\nexport const useSelector: TypedUseSelectorHook<RootState> = selectorHook;\n","import { Route, Redirect } from 'react-router-dom';\nimport React, { FC } from 'react';\nimport { getUser } from '../../services/actions/auth';\nimport { useDispatch, useSelector } from '../../services/hooks';\n\nexport const ProtectedRoute: FC<any> = ({ children, ...restProps }) => {\n  const [isLoaded, setIsLoaded] = React.useState(false);\n  const dispatch = useDispatch();\n  const currentUser = useSelector((store) => store.auth.user);\n\n  async function init() {\n    await dispatch(getUser());\n    setIsLoaded(true);\n  }\n\n  React.useEffect(() => {\n    init();\n  }, []);\n\n  if (!isLoaded) return null;\n\n  return (\n    <Route\n      {...restProps}\n      render={({ location }) => (\n        currentUser.name\n          ? (children)\n          : (\n            <Redirect to={{\n              pathname: '/login',\n              state: { from: location },\n            }}\n            />\n          )\n      )}\n    />\n  );\n};\n","import React from 'react';\nimport { useSelector } from '../../services/hooks';\nimport ingredientDetailsStyles from './ingredient-details.module.css';\n\nexport const IngredientDetails = () => {\n  const ingredient = useSelector((store) => store.index.selectedIngredient);\n\n  if (!ingredient?._id) {\n    return null;\n  }\n  return (\n    <div className={ingredientDetailsStyles.content}>\n      <h2 className={`${ingredientDetailsStyles.title} text text_type_main-large`}>Детали ингредиента</h2>\n      <img src={ingredient.image} alt={ingredient.name} className={`${ingredientDetailsStyles.image} text text_type_main-large mb-4`} />\n      <p className=\"mb-8 text text_type_main-medium\">{ingredient.name}</p>\n      <ul className={ingredientDetailsStyles.nutrients}>\n        <li className=\"mr-5\">\n          <p className=\"text mb-2 text_type_main-default text_color_inactive\">Калории, ккал</p>\n          <p className=\"text text_type_main-default text_color_inactive\">{ingredient.calories}</p>\n        </li>\n        <li className=\"mr-5\">\n          <p className=\"text mb-2 text_type_main-default text_color_inactive\">Белки, г</p>\n          <p className=\"text text_type_main-default text_color_inactive\">{ingredient.proteins}</p>\n        </li>\n        <li className=\"mr-5\">\n          <p className=\"text mb-2 text_type_main-default text_color_inactive\">Жиры, г</p>\n          <p className=\"text text_type_main-default text_color_inactive\">{ingredient.fat}</p>\n        </li>\n        <li className=\"mr-5\">\n          <p className=\"text mb-2 text_type_main-default text_color_inactive\">Углеводы, г</p>\n          <p className=\"text text_type_main-default text_color_inactive\">{ingredient.carbohydrates}</p>\n        </li>\n      </ul>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport ReactDOM from 'react-dom';\nimport ModalOverlayStyles from './modal-overlay.module.css';\n\nconst modalRoot: Element | null = document.querySelector('#react-modals');\n\ninterface IModalOverlay {\n  onClose: () => void;\n}\nexport const ModalOverlay: FC<IModalOverlay> = ({ children, onClose }) => {\n  function handleOverlayClose(evt: any) {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  }\n\n  if (!modalRoot) return null;\n\n  return ReactDOM.createPortal((\n    <div onClick={handleOverlayClose} className={ModalOverlayStyles.modalOverlay}>\n      {children}\n    </div>\n  ), modalRoot);\n};\n","import React, { FC } from 'react';\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport ModalStyles from './modal.module.css';\nimport { ModalOverlay } from '../modal-overlay/modal-overlay';\n\ninterface IModalProps {\n  onClose: () => void;\n  isOpen: boolean;\n}\nexport const Modal: FC<IModalProps> = ({ onClose, isOpen, children }) => {\n  React.useEffect(() => {\n    function closeByEsc(evt: any) {\n      if (evt.key === 'Escape') {\n        onClose();\n      }\n    }\n\n    if (isOpen) {\n      document.addEventListener('keydown', closeByEsc);\n    }\n    return () => {\n      document.removeEventListener('keydown', closeByEsc);\n    };\n  }, [isOpen]);\n\n  return (\n    <ModalOverlay onClose={onClose}>\n      <section className={`${ModalStyles.modal} pt-10 pr-10 pl-10 pb-15`}>\n        <button onClick={onClose} className={ModalStyles.closeButton}><CloseIcon type=\"primary\" /></button>\n        {children}\n      </section>\n    </ModalOverlay>\n  );\n};\n","import { checkResponse, apiUrl } from '../../utils/api-utils';\nimport { AppThunk, AppDispatch } from '../types/index';\nimport {\n  SET_INGREDIENTS_LIST,\n  SET_INGREDIENTS_LIST_IS_LOADING,\n  SET_INGREDIENTS_LIST_IS_ERROR,\n  SELECT_INGREDIENT,\n  REMOVE_SELECTED_INGREDIENT,\n  UPDATE_SELECTED_INGREDIENT,\n  ADD_INGREDIENT_INTO_CONSTRUCTOR,\n  REMOVE_INGREDIENT_FROM_CONSTRUCTOR,\n  CLEAR_CONSTRUCTOR,\n} from '../constants/index';\n\nexport interface ISetIngredientsList {\n  type: typeof SET_INGREDIENTS_LIST;\n  data: any;\n}\n\nexport interface ISetIngredientsListIsLoading {\n  type: typeof SET_INGREDIENTS_LIST_IS_LOADING;\n}\n\nexport interface ISetIngredientsListIsError {\n  type: typeof SET_INGREDIENTS_LIST_IS_ERROR;\n}\n\nexport interface ISelectIngredient {\n  type: typeof SELECT_INGREDIENT;\n  id: string;\n}\n\nexport interface IRemoveSelectedIngredient {\n  type: typeof REMOVE_SELECTED_INGREDIENT;\n}\n\nexport interface IUpdateSelectedIngredient {\n  type: typeof UPDATE_SELECTED_INGREDIENT;\n  toRemoveIndex: number;\n  toInsertIndex: number;\n}\n\nexport interface IAddIngredientIntoConstructor {\n  type: typeof ADD_INGREDIENT_INTO_CONSTRUCTOR;\n  id: string;\n  ingredientType: string;\n}\n\nexport interface IRemoveIngredientFromConstructor {\n  type: typeof REMOVE_INGREDIENT_FROM_CONSTRUCTOR;\n  index: number;\n}\n\nexport interface IClearConstructor {\n  type: typeof CLEAR_CONSTRUCTOR;\n}\n\nexport type TIndexActions =\n| ISetIngredientsList\n| ISetIngredientsListIsLoading\n| ISetIngredientsListIsError\n| ISelectIngredient\n| IRemoveSelectedIngredient\n| IUpdateSelectedIngredient\n| IAddIngredientIntoConstructor\n| IRemoveIngredientFromConstructor\n| IClearConstructor\n\nexport const setIngredientsList = (data: any): ISetIngredientsList => ({\n  type: SET_INGREDIENTS_LIST,\n  data,\n});\n\nexport const setIngredientsListIsLoading = (): ISetIngredientsListIsLoading => ({\n  type: SET_INGREDIENTS_LIST_IS_LOADING,\n});\n\nexport const setIngredientsListIsError = (): ISetIngredientsListIsError => ({\n  type: SET_INGREDIENTS_LIST_IS_ERROR,\n});\n\nexport const selectIngredient = (id: string): ISelectIngredient => ({\n  type: SELECT_INGREDIENT,\n  id,\n});\n\nexport const removeSelectedIngredient = (): IRemoveSelectedIngredient => ({\n  type: REMOVE_SELECTED_INGREDIENT,\n});\n\nexport const updateSelectedIngredient = (\n  toRemoveIndex: number,\n  toInsertIndex: number,\n): IUpdateSelectedIngredient => ({\n  type: UPDATE_SELECTED_INGREDIENT,\n  toRemoveIndex,\n  toInsertIndex,\n});\n\nexport const addIngredientIntoConstructor = (\n  id: string,\n  ingredientType: string,\n): IAddIngredientIntoConstructor => ({\n  type: ADD_INGREDIENT_INTO_CONSTRUCTOR,\n  id,\n  ingredientType,\n});\n\nexport const removeIngredientFromConstructor = (\n  index: number,\n): IRemoveIngredientFromConstructor => ({\n  type: REMOVE_INGREDIENT_FROM_CONSTRUCTOR,\n  index,\n});\n\nexport const clearConstructor = (): IClearConstructor => ({\n  type: CLEAR_CONSTRUCTOR,\n});\n\nexport const getIngredientsList: AppThunk = () => (\n  function (dispatch: AppDispatch) {\n    dispatch(setIngredientsListIsLoading());\n    return fetch(`${apiUrl}/ingredients`)\n      .then(checkResponse)\n      .then((data) => {\n        dispatch(setIngredientsList(data.data));\n        return data;\n      })\n      .catch((err) => {\n        console.error(err);\n        dispatch(setIngredientsListIsError());\n        return Promise.reject('ingredients loading error');\n      });\n  }\n);\n","import { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport React from 'react';\nimport styles from './order-info.module.css';\nimport { useSelector } from '../../services/hooks';\nimport { TIngredient } from '../../services/types/data/index';\n\ninterface IUpgradedIngredient extends TIngredient {\n  amount?: number\n}\n\nexport const OrderInfo = () => {\n  const [ingredientsToDisplay, setIngredientsToDisplay] = React.useState<IUpgradedIngredient[]>();\n  const {\n    selectedOrder: {\n      totalPrice, selectedIngredients, name, number, status, createdTime,\n    },\n  } = useSelector((store) => ({ selectedOrder: store.order.selectedOrder }));\n\n  React.useEffect(() => {\n    const intoCheck = (array: TIngredient[] | [], elementX: TIngredient) => array.find((elementY) => elementX._id === elementY._id);\n    const allKindOfIngredients: Array<IUpgradedIngredient> = [];\n\n    selectedIngredients.forEach((ingredient: TIngredient) => {\n      if (!intoCheck(allKindOfIngredients, ingredient)) {\n        allKindOfIngredients.push(ingredient);\n      }\n    });\n\n    setIngredientsToDisplay(allKindOfIngredients.map((ingredient) => {\n      if (ingredient.type === 'bun') ingredient.amount = 2;\n      else ingredient.amount = selectedIngredients.filter((element: IUpgradedIngredient) => element._id === ingredient._id).length;\n      return ingredient;\n    }));\n  }, [selectedIngredients]);\n\n  return (\n    <div className={styles.content}>\n      <p className=\"text text_type_digits-default mb-10\">{`#${number}`}</p>\n      <div className={styles.about}>\n        <h3 className=\"text text_type_main-medium mb-3\">{name}</h3>\n        <p\n          style={{ color: status === 'done' ? '#fff' : '#00CCCC' }}\n          className=\"text text_type_main-default mb-15\"\n        >\n          {status === 'done' ? 'Выполнен' : 'Готовится'}\n        </p>\n        <p className=\"text text_type_main-medium mb-6\">Состав:</p>\n      </div>\n\n      <ul className={styles.ingredientsList}>\n        {ingredientsToDisplay && ingredientsToDisplay.map((ingredient: IUpgradedIngredient, index: number) => (\n          <li key={index} className={styles.ingredient}>\n            <div className={styles.info}>\n              <img src={ingredient.image} className={styles.image} />\n              <p className=\"text text_type_main-default ml-4\">{ingredient.name}</p>\n            </div>\n            <div className={`${styles.price} ml-4`}>\n              <p className={`${styles.total} text text_type_digits-default`}>{`${ingredient.amount} x ${ingredient.price}`}</p>\n              <CurrencyIcon type=\"primary\" />\n            </div>\n          </li>\n        ))}\n\n      </ul>\n\n      <div className={styles.footer}>\n        <p className=\"text text_type_main-default text_color_inactive\">{createdTime}</p>\n        <div className={styles.price}>\n          <p className={`${styles.total} text text_type_digits-default`}>{totalPrice}</p>\n          <CurrencyIcon type=\"primary\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { clearConstructor } from './index';\nimport { checkResponse, apiUrl } from '../../utils/api-utils';\nimport { getCookie } from '../../utils/cookie-utils';\nimport { AppThunk, AppDispatch } from '../types/index';\nimport {\n  SELECT_ORDER,\n  REMOVE_SELECTED_ORDER,\n  SET_ORDER_DETAILS,\n  CLEAR_ORDER_DETAILS,\n} from '../constants';\n\nexport interface ISelectOrder {\n  type: typeof SELECT_ORDER;\n  data: any;\n}\n\nexport interface IRemoveSelectedOrder {\n  type: typeof REMOVE_SELECTED_ORDER;\n}\n\nexport interface ISetOrdersDetails {\n  type: typeof SET_ORDER_DETAILS;\n  orderDetails: any;\n}\n\nexport interface IClearOrderDetails {\n  type: typeof CLEAR_ORDER_DETAILS;\n}\n\nexport type TOrderActions =\n| ISelectOrder\n| IRemoveSelectedOrder\n| ISetOrdersDetails\n| IClearOrderDetails\n\nexport const selectOrder = (data: any): ISelectOrder => ({\n  type: SELECT_ORDER,\n  data,\n});\n\nexport const removeSelectedOrder = (): IRemoveSelectedOrder => ({\n  type: REMOVE_SELECTED_ORDER,\n});\n\nexport const setOrdersDetails = (data: any): ISetOrdersDetails => ({\n  type: SET_ORDER_DETAILS,\n  orderDetails: data,\n});\n\nexport const clearOrderDetails = (): IClearOrderDetails => ({\n  type: CLEAR_ORDER_DETAILS,\n});\n\nexport const clearOrder: AppThunk = () => (dispatch: AppDispatch) => {\n  dispatch(clearConstructor());\n  dispatch(clearOrderDetails());\n};\n\nexport const getOrderDetails: AppThunk = (orderList) => (\n  function (dispatch: AppDispatch) {\n    fetch(`${apiUrl}/orders`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${getCookie('Atoken')}`,\n      },\n      body: JSON.stringify({\n        ingredients: orderList,\n      }),\n    })\n      .then(checkResponse)\n      .then((data) => {\n        dispatch(setOrdersDetails(data));\n      })\n      .catch((err) => console.error(err));\n  }\n);\n","import { useParams, useRouteMatch } from 'react-router-dom';\nimport React from 'react';\nimport { OrderInfo } from '../../components/order-info/order-info';\nimport styles from './order-info-page.module.css';\nimport { useSelector, useDispatch } from '../../services/hooks';\nimport { selectOrder } from '../../services/actions/order';\nimport { wsConnectionStart } from '../../services/actions/ws-actions';\nimport { getCookie } from '../../utils/cookie-utils';\nimport { TIngredient, TOrder } from '../../services/types/data';\n\nexport function OrderInfoPage() {\n  const dispatch = useDispatch();\n  const match = useRouteMatch('/feed/:id');\n\n  const ingredientsList = useSelector((store) => store.index.ingredientsList);\n  const selectedOrder = useSelector((store) => store.order.selectedOrder);\n  const { ordersInfo: { orders = [] } } = useSelector((store) => ({ ordersInfo: store.ws.ordersInfo }));\n\n  const { id } = useParams<{id: string}>();\n  React.useEffect(() => {\n    if (!selectedOrder._id) {\n      if (match) dispatch(wsConnectionStart('wss://norma.nomoreparties.space/orders/all'));\n      else {\n        const aToken = getCookie('Atoken');\n        dispatch(wsConnectionStart(`wss://norma.nomoreparties.space/orders?token=${aToken}`));\n      }\n    }\n  }, []);\n\n  if (!selectedOrder._id && orders.length > 0) {\n    const order = orders.find((order: TOrder) => order._id === id);\n    const {\n      ingredients, name, number, _id, status, createdAt,\n    } = order;\n    const createdTime = new Date(Date.parse(createdAt)).toDateString();\n    const selectedIngredients = ingredientsList.filter((ingredient: TIngredient) => ingredients.includes(ingredient._id));\n    const totalPrice = selectedIngredients.reduce((sum: number, ingredient: TIngredient) => (sum + ingredient.price), 0);\n    dispatch(selectOrder({\n      totalPrice, selectedIngredients, name, number, _id, status, createdTime,\n    }));\n  }\n\n  return (\n    <main className={styles.main}>\n      {selectedOrder._id && <OrderInfo />}\n    </main>\n  );\n}\n","import { CurrencyIcon, Counter } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useDrag } from 'react-dnd';\nimport React, { FC } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useDispatch, useSelector } from '../../services/hooks';\nimport { selectIngredient } from '../../services/actions/index';\nimport IngredientStyles from './ingredient.module.css';\nimport { TIngredient } from '../../services/types/data/index';\n\ninterface TIngredientProps {\n  ingredientData: TIngredient;\n  id: string;\n}\nexport const Ingredient: FC<TIngredientProps> = ({ ingredientData, id }) => {\n  const [count, setCount] = React.useState(0);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n\n  const { constructorList, selectedBun } = useSelector((store) => ({\n    constructorList: store.index.constructorList,\n    selectedBun: store.index.selectedBun,\n  }));\n\n  React.useEffect(() => {\n    if (ingredientData.type === 'bun') {\n      if (selectedBun._id === id) {\n        setCount(2);\n      } else {\n        setCount(0);\n      }\n    } else {\n      setCount(constructorList.filter((ingredient: TIngredient) => ingredient._id === id).length);\n    }\n  }, [constructorList, selectedBun]);\n\n  const [{ opacity }, dragRef] = useDrag({\n    type: 'ingredient',\n    item: { id, ingredientType: ingredientData.type },\n    collect: (monitor) => ({\n      opacity: monitor.isDragging() ? 0.5 : 1,\n    }),\n  });\n\n  function onIngredientClick() {\n    dispatch(selectIngredient(id));\n    history.push(`/ingredients/${id}`, { background: location });\n  }\n\n  return (\n    <li ref={dragRef} style={{ opacity }} className={IngredientStyles.ingredientsMenuItem}>\n      <article onClick={onIngredientClick} className={IngredientStyles.ingredient}>\n        {count !== 0 && (\n          <div className={IngredientStyles.count}>\n            <Counter count={count} size=\"default\" />\n          </div>\n        )}\n\n        <img className={`${IngredientStyles.ingredientImage} mb-1 mr-4 ml-4`} src={ingredientData.image} alt={ingredientData.name} />\n        <div className={`${IngredientStyles.cost} mb-1`}>\n          <p className=\"text text_type_digits-default mr-2\">{ingredientData.price}</p>\n          <CurrencyIcon type=\"primary\" />\n        </div>\n        <h3 className={`${IngredientStyles.name} text text_type_main-default`}>{ingredientData.name}</h3>\n      </article>\n    </li>\n\n  );\n};\n","import React from 'react';\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\nimport burgerIngredientsSyles from './burger-ingredients.module.css';\nimport { Ingredient } from './ingredient';\nimport { useSelector } from '../../services/hooks';\nimport { TIngredient } from '../../services/types/data';\n\nexport const BurgerIngredients = () => {\n  const data = useSelector((store) => store.index.ingredientsList);\n\n  const [current, setCurrent] = React.useState('bun');\n  const containerRef = React.useRef<HTMLUListElement>(null);\n  const bunListRef = React.useRef<HTMLLIElement>(null);\n  const sauceListRef = React.useRef<HTMLLIElement>(null);\n  const mainListRef = React.useRef<HTMLLIElement>(null);\n\n  function onIngredientScroll() {\n    if (containerRef.current && bunListRef.current && sauceListRef.current && mainListRef.current) {\n      const containerYPoition = containerRef.current.getBoundingClientRect().y;\n      const bunYPoition = bunListRef.current.getBoundingClientRect().y;\n      const sauceYPoition = sauceListRef.current.getBoundingClientRect().y;\n      const mainYPoition = mainListRef.current.getBoundingClientRect().y;\n      if ((Math.abs(bunYPoition) - containerYPoition) < (Math.abs(sauceYPoition) - containerYPoition)) {\n        setCurrent('bun');\n      } else if ((Math.abs(sauceYPoition) - containerYPoition) < (Math.abs(mainYPoition) - containerYPoition)) {\n        setCurrent('sauce');\n      } else {\n        setCurrent('main');\n      }\n    }\n  }\n\n  return (\n    <section className={`${burgerIngredientsSyles.burgerIngredients} pt-10`}>\n      <h1 className=\"text text_type_main-large mb-5\">Соберите бургер</h1>\n\n      <div style={{ display: 'flex' }}>\n        <Tab value=\"bun\" active={current === 'bun'} onClick={setCurrent}>\n          Булки\n        </Tab>\n        <Tab value=\"sauce\" active={current === 'sauce'} onClick={setCurrent}>\n          Соусы\n        </Tab>\n        <Tab value=\"main\" active={current === 'main'} onClick={setCurrent}>\n          Начинки\n        </Tab>\n      </div>\n\n      <ul ref={containerRef} onScroll={onIngredientScroll} className={`${burgerIngredientsSyles.menu} mt-10`}>\n\n        <li ref={bunListRef} className={`${burgerIngredientsSyles.menuItem}`}>\n          <h2 className={`${burgerIngredientsSyles.typeName} text text_type_main-medium mb-6`}>Булки</h2>\n          <ul className={`${burgerIngredientsSyles.ingredientsMenu} mb-10`}>\n            {data.map((item: TIngredient) => (\n              item.type === 'bun' && (\n                <Ingredient key={item._id} id={item._id} ingredientData={item} />\n              )\n            ))}\n          </ul>\n        </li>\n\n        <li ref={sauceListRef} className={burgerIngredientsSyles.menuItem}>\n          <h2 className={`${burgerIngredientsSyles.typeName} text text_type_main-medium mb-6`}>Соусы</h2>\n          <ul className={`${burgerIngredientsSyles.ingredientsMenu} mb-10`}>\n            {data.map((item: TIngredient) => (\n              item.type === 'sauce' && (\n                <Ingredient key={item._id} id={item._id} ingredientData={item} />\n              )\n            ))}\n          </ul>\n        </li>\n\n        <li ref={mainListRef} className={burgerIngredientsSyles.menuItem}>\n          <h2 className={`${burgerIngredientsSyles.typeName} text text_type_main-medium mb-6`}>Начинки</h2>\n          <ul className={`${burgerIngredientsSyles.ingredientsMenu} mb-10`}>\n            {data.map((item: TIngredient) => (\n              item.type === 'main' && (\n                <Ingredient key={item._id} id={item._id} ingredientData={item} />\n              )\n            ))}\n          </ul>\n        </li>\n\n      </ul>\n\n    </section>\n\n  );\n};\n","import React, { FC } from 'react';\nimport { ConstructorElement, DragIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useDrag, useDrop } from 'react-dnd';\nimport FillingStyles from './filling.module.css';\nimport { useDispatch } from '../../services/hooks';\nimport { removeIngredientFromConstructor, updateSelectedIngredient } from '../../services/actions/index';\nimport { TIngredient } from '../../services/types/data/index';\n\ninterface IFillingProps {\n  item: TIngredient;\n  index: number;\n}\n\nexport const Filling: FC<IFillingProps> = ({ item, index }) => {\n  const dispatch = useDispatch();\n\n  const [{ isFillingDrag }, fillinDragRef] = useDrag({\n    type: 'filling',\n    item: { index },\n    collect: (monitor) => ({\n      isFillingDrag: monitor.isDragging(),\n\n    }),\n  });\n\n  const [{ isFillingHover }, fillingDropRef] = useDrop({\n    accept: 'filling',\n    drop(item: any) {\n      dispatch(updateSelectedIngredient(item.index, index));\n    },\n    collect: (monitor) => ({\n      isFillingHover: monitor.isOver(),\n    }),\n  });\n\n  function handleRemoveClick(index: number) {\n    dispatch(removeIngredientFromConstructor(index));\n  }\n\n  const paddingTop = isFillingHover ? '90px' : '0';\n\n  return (\n    <li ref={fillingDropRef} style={{ paddingTop }} className={FillingStyles.ingredient}>\n      {!isFillingDrag && (\n        <article ref={fillinDragRef}>\n          <DragIcon type=\"primary\" />\n          <ConstructorElement\n            text={item.name}\n            price={item.price}\n            thumbnail={item.image}\n            handleClose={() => handleRemoveClick(index)}\n          />\n        </article>\n      )}\n\n    </li>\n  );\n};\n","import React from 'react';\nimport { ConstructorElement } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useDrop } from 'react-dnd';\nimport BurgerStyles from './burger.module.css';\nimport { useDispatch, useSelector } from '../../services/hooks';\nimport { addIngredientIntoConstructor } from '../../services/actions/index';\nimport { Filling } from './filling';\nimport { TIngredient } from '../../services/types/data';\n\nexport function Burger() {\n  const dispatch = useDispatch();\n\n  const { selectedBun, constructorList } = useSelector((store) => ({\n    selectedBun: store.index.selectedBun,\n    constructorList: store.index.constructorList,\n  }));\n\n  const [{ isIngredientHover }, ingredientDropRef] = useDrop({\n    accept: 'ingredient',\n    drop(item: any) {\n      dispatch(addIngredientIntoConstructor(item.id, item.ingredientType));\n    },\n    collect: (monitor: any) => ({\n      isIngredientHover: monitor.isOver(),\n    }),\n  });\n\n  const border = isIngredientHover ? '1px #8585AD solid' : 'none';\n\n  const fillingChoiсe = (\n    <div className={BurgerStyles.fillingChoiсe}>\n      <p className=\"text text_type_main-medium\">Выберите начинку</p>\n    </div>\n  );\n  const bunChoiсe = (\n    <div className={BurgerStyles.bunChoiсe}>\n      <p className=\"text text_type_main-medium\">Выберите булку</p>\n    </div>\n  );\n\n  return (\n\n    <div ref={ingredientDropRef} style={{ border }} className={`${BurgerStyles.burger}  ml-4 mb-10`}>\n\n      {selectedBun._id ? (\n        <div className={`${BurgerStyles.bun}`}>\n          <ConstructorElement\n            type=\"top\"\n            isLocked\n            text={`${selectedBun.name} (верх)`}\n            price={selectedBun.price}\n            thumbnail={`${selectedBun.image}`}\n          />\n        </div>\n      ) : bunChoiсe}\n\n      {constructorList.length !== 0 ? (\n        <ul className={BurgerStyles.ingredients}>\n          {constructorList.map((item: TIngredient, index: number) => (\n            item.type !== 'bun' && <Filling key={index} item={item} index={index} />\n          ))}\n        </ul>\n      ) : fillingChoiсe}\n\n      {selectedBun._id ? (\n        <div className={`${BurgerStyles.bun}`}>\n          <ConstructorElement\n            type=\"bottom\"\n            isLocked\n            text={`${selectedBun.name} (низ)`}\n            price={selectedBun.price}\n            thumbnail={`${selectedBun.image}`}\n          />\n        </div>\n      ) : bunChoiсe}\n\n    </div>\n  );\n}\n","import { Button, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport React from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport BurgerConstructorStyles from './burger-constructor.module.css';\nimport { Burger } from './burger';\nimport { getOrderDetails } from '../../services/actions/order';\nimport { useDispatch, useSelector } from '../../services/hooks';\nimport { TIngredient } from '../../services/types/data/index';\n\nexport function BurgerConstructor() {\n  const [total, setTotal] = React.useState<number>(0);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const location = useLocation();\n\n  const { user, selectedBun, constructorList } = useSelector((store) => ({\n    user: store.auth.user,\n    selectedBun: store.index.selectedBun,\n    constructorList: store.index.constructorList,\n  }));\n\n  React.useEffect(() => {\n      const bunPrice: number = selectedBun.price ? selectedBun.price * 2 : 0;\n      setTotal(constructorList.reduce((prevValue: number, item: TIngredient) => prevValue + item.price, bunPrice));\n    \n  }, [constructorList, selectedBun]);\n\n  function handleOrderClick() {\n    if (constructorList.length !== 0 && selectedBun._id) {\n      const order = constructorList.map((ingredient: TIngredient) => ingredient._id);\n      order.push(selectedBun._id);\n      if (!user.name) {\n        history.push('/login', { from: location });\n      } else dispatch(getOrderDetails(order));\n    } else {\n      console.error('Не выбраны ингредиенты!');\n    }\n  }\n\n  return (\n    <section className={`${BurgerConstructorStyles.burgerConstructor} pt-25`}>\n\n      <Burger />\n\n      <div className={`${BurgerConstructorStyles.confirmButton} mr-4`}>\n        <div className={`${BurgerConstructorStyles.total} mr-10 `}>\n          <p className=\"text text_type_digits-medium mr-2\">{total}</p>\n          <CurrencyIcon type=\"primary\" />\n        </div>\n        <Button onClick={handleOrderClick} type=\"primary\" size=\"large\">\n          Оформить заказ\n        </Button>\n      </div>\n    </section>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/done.e036971b.png\";","import React from 'react';\nimport OrderDetailsStyles from './order-details.module.css';\nimport doneImage from '../../images/done.png';\nimport { useSelector } from '../../services/hooks';\n\nexport const OrderDetails = () => {\n  const orderDetails = useSelector((store) => store.order.orderDetails);\n\n  return (\n    <div className={OrderDetailsStyles.content}>\n      <p className={`${OrderDetailsStyles.orderNumber} text text_type_digits-large mb-8 mt-20`}>{orderDetails.order.number}</p>\n      <p className=\"text text_type_main-medium mb-15\">идентификатор заказа</p>\n      <img src={doneImage} className={`${OrderDetailsStyles.done} mb-15`} alt=\"done icon\" />\n      <p className=\"text text_type_main-default mb-2\">Ваш заказ начали готовить</p>\n      <p className=\"text text_type_main-default text_color_inactive mb-15\">Дождитесь готовности на орбитальной станции</p>\n    </div>\n  );\n};\n","import React from 'react';\nimport ConstructorPageStyles from './constructor-page.module.css';\nimport { BurgerIngredients } from '../../components/burger-ingredients/burger-ingredients';\nimport { BurgerConstructor } from '../../components/burger-constructor/burger-constructor';\nimport { OrderDetails } from '../../components/order-details/order-details';\nimport { Modal } from '../../components/modals/modal/modal';\nimport { removeSelectedIngredient } from '../../services/actions/index';\nimport { useDispatch, useSelector } from '../../services/hooks';\nimport { clearOrder } from '../../services/actions/order';\n\nexport function ConstructorPage() {\n  const dispatch = useDispatch();\n  const orderDetails = useSelector((store) => store.order.orderDetails);\n\n  React.useEffect(() => {\n    dispatch(removeSelectedIngredient());\n  }, []);\n\n  function handleCloseModal() {\n    dispatch(clearOrder());\n  }\n\n  return (\n    <>\n      <main className={ConstructorPageStyles.main}>\n        <BurgerIngredients />\n        <BurgerConstructor />\n      </main>\n\n      {orderDetails.success && <Modal isOpen={!!orderDetails.success} onClose={handleCloseModal}><OrderDetails /></Modal>}\n    </>\n  );\n}\n","import React from 'react';\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { Link, Redirect, useLocation } from 'react-router-dom';\nimport LoginPageStyles from './login-page.module.css';\nimport { login } from '../../services/actions/auth';\nimport { useDispatch, useSelector } from '../../services/hooks';\n\nexport function LoginPage() {\n  const [emailValue, setEmailValue] = React.useState('');\n  const [passwordValue, setPasswordValue] = React.useState('');\n\n  const dispatch = useDispatch();\n  const { state } = useLocation<{from: string}>();\n  const user = useSelector((store) => store.auth.user);\n\n  const onEnterClick = (evt: any) => {\n    evt.preventDefault();\n    dispatch(login({\n      email: emailValue,\n      password: passwordValue,\n    }))\n      .catch((err: any) => { console.error(err); });\n  };\n\n  if (user.name) {\n    return (\n      <Redirect to={state?.from || '/'} />\n    );\n  }\n\n  return (\n    <main className={LoginPageStyles.main}>\n      <form onSubmit={onEnterClick} className={`${LoginPageStyles.form} mb-20`}>\n        <h1 className=\"text text_type_main-medium mb-6\">\n          Вход\n        </h1>\n        <div className=\"mb-6\">\n          <Input\n            type=\"email\"\n            placeholder=\"E-mail\"\n            onChange={(e) => setEmailValue(e.target.value)}\n            value={emailValue}\n            name=\"name\"\n            error={false}\n            errorText=\"Ошибка\"\n            size=\"default\"\n          />\n        </div>\n        <div className=\"mb-6\">\n          <Input\n            type=\"password\"\n            placeholder=\"Пароль\"\n            onChange={(e) => setPasswordValue(e.target.value)}\n            icon=\"ShowIcon\"\n            value={passwordValue}\n            name=\"name\"\n            error={false}\n            errorText=\"Ошибка\"\n            size=\"default\"\n          />\n        </div>\n\n        <Button type=\"primary\" size=\"medium\">\n          Войти\n        </Button>\n      </form>\n      <nav className={LoginPageStyles.nav}>\n        <p className=\"text text_type_main-default text_color_inactive mb-4\">\n          Вы — новый пользователь?\n          <Link to=\"/register\" className={`${LoginPageStyles.link} text text_type_main-default`}>Зарегистрироваться</Link>\n        </p>\n        <p className=\"text text_type_main-default text_color_inactive\">\n          Забыли пароль?\n          <Link to=\"/forgot-password\" className={`${LoginPageStyles.link} text text_type_main-default`}>Восстановить пароль</Link>\n        </p>\n      </nav>\n\n    </main>\n  );\n}\n","import React from 'react';\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { Link, Redirect } from 'react-router-dom';\nimport RegisterPageStyles from './register-page.module.css';\nimport { register } from '../../services/actions/auth';\nimport { useDispatch, useSelector } from '../../services/hooks';\n\nexport function RegisterPage() {\n  const [emailValue, setEmailValue] = React.useState<string>('');\n  const [passwordValue, setPasswordValue] = React.useState<string>('');\n  const [nameValue, setNameValue] = React.useState<string>('');\n  const dispatch = useDispatch();\n\n  const user = useSelector((store) => store.auth.user);\n\n  const onRegisterClick = (evt: any) => {\n    evt.preventDefault();\n    dispatch(register({\n      email: emailValue,\n      password: passwordValue,\n      name: nameValue,\n    }));\n  };\n\n  if (user.name) {\n    return (\n      <Redirect to=\"/\" />\n    );\n  }\n\n  return (\n    <main className={RegisterPageStyles.main}>\n      <form onSubmit={onRegisterClick} className={`${RegisterPageStyles.form} mb-20`}>\n        <h1 className=\"text text_type_main-medium mb-6\">\n          Регистрация\n        </h1>\n        <div className=\"mb-6\">\n          <Input\n            type=\"text\"\n            placeholder=\"Имя\"\n            onChange={(e) => setNameValue(e.target.value)}\n            value={nameValue}\n            name=\"name\"\n            error={false}\n            errorText=\"Ошибка\"\n            size=\"default\"\n          />\n        </div>\n        <div className=\"mb-6\">\n          <Input\n            type=\"email\"\n            placeholder=\"E-mail\"\n            onChange={(e) => setEmailValue(e.target.value)}\n            value={emailValue}\n            name=\"email\"\n            error={false}\n            errorText=\"Ошибка\"\n            size=\"default\"\n          />\n        </div>\n        <div className=\"mb-6\">\n          <Input\n            type=\"password\"\n            placeholder=\"Пароль\"\n            onChange={(e) => setPasswordValue(e.target.value)}\n            icon=\"ShowIcon\"\n            value={passwordValue}\n            name=\"password\"\n            error={false}\n            errorText=\"Ошибка\"\n            size=\"default\"\n          />\n        </div>\n\n        <Button type=\"primary\" size=\"medium\">\n          Зарегистрироваться\n        </Button>\n      </form>\n      <nav className={RegisterPageStyles.nav}>\n        <p className=\"text text_type_main-default text_color_inactive\">\n          Уже зарегистрированы?\n          <Link to=\"/login\" className={`${RegisterPageStyles.link} text text_type_main-default`}>Войти</Link>\n        </p>\n      </nav>\n\n    </main>\n  );\n}\n","import React from 'react';\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { Link, Redirect, useHistory } from 'react-router-dom';\nimport ForgotPageStyles from './forgot-page.module.css';\nimport { sendCode } from '../../utils/api';\nimport { useSelector } from '../../services/hooks';\n\nexport function ForgotPage() {\n  const [emailRestoreValue, setEmailRestoreValue] = React.useState('');\n  const user = useSelector((store) => store.auth.user);\n  const history = useHistory();\n  const onRestoreClick = (evt: any) => {\n    evt.preventDefault();\n    sendCode({ email: emailRestoreValue })\n      .then(() => { history.push('/reset-password', { codeIsSended: true }); })\n      .catch((err) => console.error(err));\n  };\n\n  if (user.name) {\n    return (\n      <Redirect to=\"/\" />\n    );\n  }\n\n  return (\n    <main className={ForgotPageStyles.main}>\n      <form onSubmit={onRestoreClick} className={`${ForgotPageStyles.form} mb-20`}>\n        <h1 className=\"text text_type_main-medium mb-6\">\n          Восстановление пароля\n        </h1>\n        <div className=\"mb-6\">\n          <Input\n            type=\"email\"\n            placeholder=\"Укажите e-mail\"\n            onChange={(e) => setEmailRestoreValue(e.target.value)}\n            value={emailRestoreValue}\n            name=\"emailRestore\"\n            error={false}\n            errorText=\"Ошибка\"\n            size=\"default\"\n          />\n        </div>\n\n        <Button type=\"primary\" size=\"medium\">\n          Восстановить\n        </Button>\n\n      </form>\n      <nav className={ForgotPageStyles.nav}>\n        <p className=\"text text_type_main-default text_color_inactive\">\n          Вспомнили пароль?\n          <Link to=\"/login\" className={`${ForgotPageStyles.link} text text_type_main-default`}>Войти</Link>\n        </p>\n      </nav>\n\n    </main>\n  );\n}\n","import React from 'react';\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { Link, Redirect, useLocation } from 'react-router-dom';\nimport ResetPageStyles from './reset-page.module.css';\nimport { resetPassword } from '../../utils/api';\nimport { useSelector } from '../../services/hooks';\n\nexport function ResetPage() {\n  const [newPasswordValue, setNewPasswordValue] = React.useState('');\n  const [codeValue, setCodeValue] = React.useState('');\n\n  const user = useSelector((store) => store.auth.user);\n  const { state } = useLocation<{codeIsSended: boolean}>();\n\n  const onResetClick = (evt: any) => {\n    evt.preventDefault();\n    resetPassword({ password: newPasswordValue, token: codeValue })\n      .then((data) => console.log(data.message))\n      .catch((err) => console.error(err));\n  };\n\n  if (user.name) {\n    return (\n      <Redirect to=\"/\" />\n    );\n  }\n\n  if (!state?.codeIsSended) return <Redirect to=\"/forgot-password\" />;\n\n  return (\n    <main className={ResetPageStyles.main}>\n      <form onSubmit={onResetClick} className={`${ResetPageStyles.form} mb-20`}>\n        <h1 className=\"text text_type_main-medium mb-6\">\n          Восстановление пароля\n        </h1>\n        <div className=\"mb-6\">\n          <Input\n            type=\"password\"\n            placeholder=\"Введите новый пароль\"\n            onChange={(e) => setNewPasswordValue(e.target.value)}\n            value={newPasswordValue}\n            name=\"newPassword\"\n            error={false}\n            errorText=\"Ошибка\"\n            size=\"default\"\n            icon=\"ShowIcon\"\n          />\n        </div>\n        <div className=\"mb-6\">\n          <Input\n            type=\"text\"\n            placeholder=\"Введите код из письма\"\n            onChange={(e) => setCodeValue(e.target.value)}\n            value={codeValue}\n            name=\"code\"\n            error={false}\n            errorText=\"Ошибка\"\n            size=\"default\"\n          />\n        </div>\n\n        <Button type=\"primary\" size=\"medium\">\n          Сохранить\n        </Button>\n      </form>\n      <nav className={ResetPageStyles.nav}>\n        <p className=\"text text_type_main-default text_color_inactive\">\n          Забыли пароль?\n          <Link to=\"/login\" className={`${ResetPageStyles.link} text text_type_main-default`}>Восстановить пароль</Link>\n        </p>\n      </nav>\n\n    </main>\n  );\n}\n","import React from 'react';\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport AboutProfileStyles from './about-profile.module.css';\nimport { changeProfileData } from '../../services/actions/auth';\nimport { useSelector, useDispatch } from '../../services/hooks';\n\nexport function AboutProfile() {\n  const [nameValue, setNameValue] = React.useState<string>('');\n  const [emailValue, setEmailValue] = React.useState<string>('');\n  const [passwordValue, setPasswordValue] = React.useState<string>('');\n  const user = useSelector((store) => store.auth.user);\n\n  const dispatch = useDispatch();\n\n  const setInitialData = () => {\n    setNameValue(user.name);\n    setEmailValue(user.email);\n  };\n\n  React.useEffect(() => {\n    setInitialData();\n  }, [user]);\n\n  const handleSaveClick = (evt: any): void => {\n    evt.preventDefault();\n    dispatch(changeProfileData({\n      email: emailValue,\n      password: passwordValue,\n      name: nameValue,\n    }))\n      .then(() => setInitialData());\n  };\n\n  const handleCancelClick = (evt: any): void => {\n    evt.preventDefault();\n    setInitialData();\n  };\n\n  return (\n    <div className={AboutProfileStyles.aboutProfile}>\n      <div className=\"mb-6\">\n        <Input\n          type=\"text\"\n          placeholder=\"Имя\"\n          onChange={(e) => setNameValue(e.target.value)}\n          icon=\"EditIcon\"\n          value={nameValue}\n          name=\"name\"\n          error={false}\n          errorText=\"Ошибка\"\n          size=\"default\"\n        />\n      </div>\n      <div className=\"mb-6\">\n        <Input\n          type=\"email\"\n          placeholder=\"Логин\"\n          onChange={(e) => setEmailValue(e.target.value)}\n          icon=\"EditIcon\"\n          value={emailValue}\n          name=\"email\"\n          error={false}\n          errorText=\"Ошибка\"\n          size=\"default\"\n        />\n      </div>\n      <div className=\"mb-6\">\n        <Input\n          type=\"password\"\n          placeholder=\"Пароль\"\n          onChange={(e) => setPasswordValue(e.target.value)}\n          icon=\"EditIcon\"\n          value={passwordValue}\n          name=\"password\"\n          error={false}\n          errorText=\"Ошибка\"\n          size=\"default\"\n        />\n      </div>\n      <div className={AboutProfileStyles.buttons}>\n        <Button onClick={handleSaveClick} type=\"primary\" size=\"large\">\n          Сохранить\n        </Button>\n        <Button onClick={handleCancelClick} type=\"primary\" size=\"large\">\n          Отмена\n        </Button>\n      </div>\n    </div>\n\n  );\n}\n","import React, { FC } from 'react';\nimport { useRouteMatch, useHistory, useLocation } from 'react-router-dom';\nimport { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport styles from './order-card.module.css';\nimport { useSelector, useDispatch } from '../../services/hooks';\nimport { selectOrder } from '../../services/actions/order';\nimport { TOrder, TIngredient } from '../../services/types/data/index';\n\ninterface IOrderCard {\n  statusBar?: string;\n  orderData: TOrder;\n}\nexport const OrderCard: FC<IOrderCard> = ({ statusBar, orderData: { ingredients, name, number, _id, status, createdAt } }) => {\n  const [totalPrice, setTotalPrice] = React.useState<number>();\n  const [selectedIngredients, setSelectedIngredients] = React.useState<TIngredient[]>([]);\n  const [createdTime, setCreatedTime] = React.useState('');\n  const { url } = useRouteMatch();\n\n  const ingredientsList = useSelector((store) => store.index.ingredientsList);\n\n  React.useEffect(() => {\n    if (ingredients && ingredientsList) {\n      setSelectedIngredients(ingredients.map((ingredientID: string) => ingredientsList.find((ingredient: TIngredient) => ingredient._id === ingredientID)));\n    };\n  }, [ingredients]);\n\n  React.useEffect(() => {\n    if (ingredients && ingredientsList) {\n      setTotalPrice(selectedIngredients.reduce((total, ingredient) => {\n        if (ingredient.type === 'bun') return total + ingredient.price * 2;\n        return total + ingredient.price;\n      }, 0));\n    };\n  }, [selectedIngredients]);\n\n  React.useEffect(() => {\n    setCreatedTime(new Date(Date.parse(createdAt)).toDateString());\n  }, []);\n\n  const ingredientsToShow = ingredientsList.filter((ingredient: TIngredient) => ingredients.includes(ingredient._id));\n  let restIngredients = ingredientsToShow.splice(5,);\n\n  const history = useHistory();\n  const location = useLocation();\n  const dispatch = useDispatch();\n\n  const onCardClick = () => {\n    dispatch(selectOrder({\n      totalPrice,\n      selectedIngredients,\n      name,\n      number,\n      _id,\n      status,\n      createdTime,\n    }));\n    history.push(`${url}/${_id}`, { background: location });\n  };\n\n  if (selectedIngredients) return (\n    <article onClick={onCardClick} className={`${styles.card}`}>\n\n      <div className={styles.header}>\n        <p className={styles.orderNumber}>{`#${number}`}</p>\n        <p className=\"text text_type_main-default text_color_inactive\">{createdTime}</p>\n      </div>\n      <div className={styles.title}>\n        <h3 className=\"text text_type_main-medium mb-2\">{name}</h3>\n        {statusBar && (\n          <p\n            style={{ color: status === 'done' ? '#fff' : '#00CCCC' }}\n            className=\"text text_type_main-default\"\n          >\n              {status === 'done' ? 'Выполнен' : 'Готовится'}\n          </p>\n        )}\n      </div>\n\n      <div className={styles.list}>\n\n        <ul className={styles.selectedIngredientsList}>\n          {ingredientsToShow.map((ingredient: TIngredient, index:number) => (\n            <li key={index} style={{ zIndex: `${5 - index}` }}>\n              <img className={styles.ingredientImage} src={ingredient.image} ></img>\n            </li>\n          ))}\n          {restIngredients.length > 0 && (\n            <li>\n              <div className={styles.restIngredients} style={{ backgroundImage: `url(${restIngredients[0].image})` }}>\n                {restIngredients.length > 1 && <p className={styles.restIngredientsCount}>{`+${restIngredients.length}`}</p>}\n              </div>\n            </li>\n          )}\n        </ul>\n\n        <div className={styles.price}>\n          <p className={`${styles.total} text text_type_digits-default`}>{totalPrice}</p>\n          <CurrencyIcon type=\"primary\" />\n        </div>\n\n      </div>\n    </article>\n  );\nreturn (\n  <div>error</div>\n)\n\n};\n","import React, { FC } from 'react';\nimport { OrderCard } from './order-card';\nimport styles from './order-card-list.module.css';\nimport { TOrder } from '../../services/types/data/index';\n\ninterface IOrderCardList {\n  orders: TOrder[] | [];\n  statusBar: boolean;\n}\n\nexport const OrderCardList: FC<IOrderCardList> = ({ orders, statusBar }) => {\n  return (\n    <ul className={styles.list}>\n      {orders.map((order, index) => (\n        order && order.ingredients.length ? <OrderCard orderData={order} key={index} statusBar={statusBar} /> : <div>error</div>   \n      ))}\n    </ul>\n  );\n};\n","import React from 'react';\nimport { OrderCardList } from '../order-card-list/order-card-list';\nimport { useDispatch, useSelector } from '../../services/hooks';\nimport { wsConnectionStart } from '../../services/actions/ws-actions';\nimport { getCookie } from '../../utils/cookie-utils';\n\nexport function OrderHistory() {\n  const dispatch = useDispatch();\n  const aToken = getCookie('Atoken');\n  React.useEffect(() => {\n    dispatch(wsConnectionStart(`wss://norma.nomoreparties.space/orders?token=${aToken}`));\n  }, []);\n  const { ordersInfo: { orders = [] } } = useSelector((store) => ({ ordersInfo: store.ws.ordersInfo }));\n  const reversedOrders: any = (Array.from(orders).reverse());\n  return (\n    orders.length ? <OrderCardList orders={reversedOrders} statusBar /> : null\n  );\n}\n","import React from 'react';\nimport {\n  NavLink,\n  Route,\n  Switch,\n  useRouteMatch,\n  useHistory,\n} from 'react-router-dom';\nimport { AboutProfile } from '../../components/about-profile/about-profile';\nimport ProfilePageStyles from './profile-page.module.css';\nimport { useDispatch } from '../../services/hooks';\nimport { logout } from '../../services/actions/auth';\nimport { OrderHistory } from '../../components/order-history/order-history';\n\nexport function ProfilePage() {\n  const { url, path } = useRouteMatch();\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  function onExitClick() {\n    dispatch(logout());\n    history.push('/');\n  }\n\n  return (\n    <main className={ProfilePageStyles.main}>\n      <nav className={`${ProfilePageStyles.profileNav} mr-15`}>\n        <ul className={`${ProfilePageStyles.navList} mb-20`}>\n          <li>\n            <NavLink exact to={`${url}`} activeClassName={ProfilePageStyles.activeLink} className={`${ProfilePageStyles.link} text text_type_main-medium text_color_inactive`}>Профиль</NavLink>\n          </li>\n          <li>\n            <NavLink to={`${url}/orders`} activeClassName={ProfilePageStyles.activeLink} className={`${ProfilePageStyles.link} text text_type_main-medium text_color_inactive`}>История заказов</NavLink>\n          </li>\n          <li>\n            <button onClick={onExitClick} className={`${ProfilePageStyles.exictButton} text text_type_main-medium text_color_inactive`}>Выход</button>\n          </li>\n        </ul>\n\n        <p className=\"text text_type_main-default text_color_inactive\">В этом разделе вы можете изменить свои персональные данные</p>\n      </nav>\n      <section className={ProfilePageStyles.routeSide}>\n        <Switch>\n          <Route exact path={path}>\n            <AboutProfile />\n          </Route>\n          <Route exact path={`${path}/orders`}>\n            <OrderHistory />\n          </Route>\n        </Switch>\n      </section>\n\n    </main>\n  );\n}\n","import React from 'react';\nimport styles from './not-found.module.css';\n\nexport function NotFound() {\n  return (\n    <main className={styles.main}>\n      <h1 className={styles.notFound}>PAGE NOT FOUND!</h1>\n    </main>\n  );\n}\n","import React from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\n\nimport { IngredientDetails } from '../../components/ingredient-details/ingredient-details';\nimport styles from './ingredient-details-page.module.css';\nimport { useDispatch, useSelector } from '../../services/hooks';\nimport { selectIngredient } from '../../services/actions/index';\n\nexport function IngredientDetailsPage() {\n  const { ingredientsList, ingredientListIsLoaded: listIsLoaded, ingredientListIsError: listIsError } = useSelector((store) => ({\n    ingredientsList: store.index.ingredientsList,\n    ingredientListIsLoaded: store.index.ingredientListIsLoaded,\n    ingredientListIsError: store.index.ingredientListIsError,\n  }));\n  const history = useHistory();\n  const { id } = useParams<{id: string}>();\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    if (ingredientsList.length > 0) dispatch(selectIngredient(id));\n  }, [ingredientsList]);\n\n  if (!listIsLoaded) return null;\n\n  if (listIsLoaded && (listIsError || ingredientsList.length === 0)) history.goBack();\n\n  return (\n    <main className={styles.main}>\n      <IngredientDetails />\n    </main>\n  );\n}\n","import React from 'react';\nimport { OrderCardList } from '../../components/order-card-list/order-card-list';\nimport styles from './feed-page.module.css';\nimport { useDispatch, useSelector } from '../../services/hooks';\nimport { wsConnectionStart } from '../../services/actions/ws-actions';\nimport { TOrder } from '../../services/types/data/index';\n\nexport function FeedPage() {\n  const dispatch = useDispatch();\n  const [pendingOrders, setPendingOrders] = React.useState<number[]>([]);\n  const [doneOrders, setDoneOrders] = React.useState<number[]>([]);\n\n  React.useEffect(() => {\n    dispatch(wsConnectionStart('wss://norma.nomoreparties.space/orders/all'));\n  }, []);\n\n  const { ordersInfo: { orders = [], total = null, totalToday = null } } = useSelector((store) => ({ ordersInfo: store.ws.ordersInfo }));\n\n  React.useEffect(() => { // распределение заказов по готовности, по 10шт\n    const pendingOrdersNumber: number[] = [];\n    const doneOrdersNumber: number[] = [];\n    orders.forEach((order: TOrder) => {\n      if (order.status === 'done' && doneOrdersNumber.length < 10) doneOrdersNumber.push(order.number);\n      else if (pendingOrdersNumber.length < 10) pendingOrdersNumber.push(order.number);\n    });\n    setPendingOrders(pendingOrdersNumber);\n    setDoneOrders(doneOrdersNumber);\n  }, []);\n\n  return (\n    <main className={styles.main}>\n      <h1 className={`${styles.title} text text_type_main-large mb-5`}>Лента заказов</h1>\n      <div className={styles.grid}>\n\n        <section>\n          <div className={styles.orderList}>\n            {orders && <OrderCardList orders={orders} statusBar={false} />}\n          </div>\n        </section>\n\n        <section className={styles.ordersInfo}>\n\n          <div className={`${styles.statusLists} mb-15`}>\n            <ul className={styles.statusList}>\n              <p className=\"text text_type_main-medium mb-6\">Готовы:</p>\n              {doneOrders.map((orderNumber, index) => (\n                <li key={index} className={`${styles.orderId} text text_type_digits-default`} style={{ color: '#00CCCC' }}>{orderNumber}</li>\n              ))}\n            </ul>\n            <ul className={styles.statusList}>\n              <p className=\"text text_type_main-medium mb-6\">В работе:</p>\n              {pendingOrders.map((orderNumber, index) => {\n                <li key={index} className={`${styles.orderId} text text_type_digits-default`}>{orderNumber}</li>;\n              })}\n            </ul>\n          </div>\n\n          <div className={`${styles.stats} mb-6`}>\n            <h3 className=\"text text_type_main-medium\">Выполнено за все время:</h3>\n            <p className={`${styles.number} text text_type_digits-large`}>{total && total}</p>\n          </div>\n\n          <div className={styles.stats}>\n            <h3 className=\"text text_type_main-medium\">Выполнено за сегодня:</h3>\n            <p className={`${styles.number} text text_type_digits-large`}>{totalToday && totalToday}</p>\n          </div>\n\n        </section>\n\n      </div>\n\n    </main>\n  );\n}\n","import React from 'react';\nimport {\n  Switch,\n  Route,\n  useLocation,\n  useHistory,\n} from 'react-router-dom';\nimport { Location } from 'history';\nimport AppStyles from './app.module.css';\nimport { AppHeader } from '../components/app-header/app-header';\nimport { ProtectedRoute } from '../components/hocs/protected-route';\nimport { useDispatch, useSelector } from '../services/hooks';\nimport { getUser } from '../services/actions/auth';\nimport { IngredientDetails } from '../components/ingredient-details/ingredient-details';\nimport { Modal } from '../components/modals/modal/modal';\nimport { getIngredientsList, removeSelectedIngredient } from '../services/actions/index';\nimport { OrderInfoPage } from '../pages/order-info/order-info-page';\nimport { OrderInfo } from '../components/order-info/order-info';\nimport {\n  ConstructorPage,\n  LoginPage,\n  RegisterPage,\n  ForgotPage,\n  ResetPage,\n  ProfilePage,\n  NotFound,\n  IngredientDetailsPage,\n  FeedPage,\n} from '../pages';\nimport { removeSelectedOrder } from '../services/actions/order';\n\ninterface ICustomLocation extends Location {background: Location;}\n\nexport const App = () => {\n  const dispatch = useDispatch();\n  const location = useLocation<ICustomLocation>();\n  const history = useHistory();\n\n  const { selectedIngredient, selectedOrder } = useSelector((store) => ({\n    selectedIngredient: store.index.selectedIngredient,\n    selectedOrder: store.order.selectedOrder,\n  }));\n\n  React.useEffect(() => {\n    dispatch(getIngredientsList());\n    dispatch(getUser());\n  }, []);\n\n  function handleCloseIngredientModal() {\n    dispatch(removeSelectedIngredient());\n    history.goBack();\n  }\n\n  function handleCloseOrderModal() {\n    dispatch(removeSelectedOrder());\n    history.goBack();\n  }\n\n  const background = (history.action === 'PUSH' || history.action === 'REPLACE') && location?.state?.background;\n\n  return (\n    <div className={AppStyles.app}>\n      <AppHeader />\n      <Switch location={background || location}>\n\n        <Route path=\"/\" exact>\n          <ConstructorPage />\n        </Route>\n\n        <Route path=\"/login\" exact>\n          <LoginPage />\n        </Route>\n\n        <Route path=\"/register\" exact>\n          <RegisterPage />\n        </Route>\n\n        <Route path=\"/forgot-password\" exact>\n          <ForgotPage />\n        </Route>\n\n        <Route path=\"/reset-password\" exact>\n          <ResetPage />\n        </Route>\n\n        <ProtectedRoute exact path=\"/profile/orders/:id\">\n          <OrderInfoPage />\n        </ProtectedRoute>\n\n        <ProtectedRoute path=\"/profile\">\n          <ProfilePage />\n        </ProtectedRoute>\n\n        <Route path=\"/ingredients/:id\">\n          <IngredientDetailsPage />\n        </Route>\n\n        <Route exact path=\"/feed\">\n          <FeedPage />\n        </Route>\n\n        <Route exact path=\"/feed/:id\">\n          <OrderInfoPage />\n        </Route>\n\n        <Route>\n          <NotFound />\n        </Route>\n      </Switch>\n      <Switch>\n        { background && selectedOrder?._id\n          && (\n          <Route path={`${background.pathname}/:id`}>\n            <Modal isOpen={!!selectedOrder} onClose={handleCloseOrderModal}>\n              <OrderInfo />\n            </Modal>\n          </Route>\n          )}\n\n        { background && selectedIngredient?._id\n          && (\n          <Route path=\"/ingredients/:id\">\n            <Modal isOpen={!!selectedIngredient} onClose={handleCloseIngredientModal}>\n              <IngredientDetails />\n            </Modal>\n          </Route>\n          )}\n\n      </Switch>\n\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { BrowserRouter } from 'react-router-dom';\nimport initStore from './services/store/store';\nimport reportWebVitals from './reportWebVitals';\nimport { App } from './app/app';\n\nexport const store = initStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <DndProvider backend={HTML5Backend}>\n      <Provider store={store}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </Provider>\n    </DndProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"order-info_content__3244E\",\"about\":\"order-info_about__1c18F\",\"ingredientsList\":\"order-info_ingredientsList__17197\",\"ingredient\":\"order-info_ingredient__30pRC\",\"info\":\"order-info_info__11bVE\",\"image\":\"order-info_image__14CQh\",\"price\":\"order-info_price__sNxEd\",\"total\":\"order-info_total__1krhW\",\"footer\":\"order-info_footer__2VeuG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burgerIngredients\":\"burger-ingredients_burgerIngredients__2i6ZI\",\"menu\":\"burger-ingredients_menu__3KO37\",\"menuItem\":\"burger-ingredients_menuItem__ts7QV\",\"typeName\":\"burger-ingredients_typeName__2yVm2\",\"ingredientsMenu\":\"burger-ingredients_ingredientsMenu__1XPlK\",\"ingredientsMenuItem\":\"burger-ingredients_ingredientsMenuItem__1lZ4K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"order-card_card__3zfNI\",\"commonLink\":\"order-card_commonLink__1RaA0\",\"header\":\"order-card_header__3u-8p\",\"title\":\"order-card_title__a_E0-\",\"orderNumber\":\"order-card_orderNumber__2fUwG\",\"list\":\"order-card_list__M1IwB\",\"price\":\"order-card_price__2Xi1K\",\"total\":\"order-card_total__2e2DV\",\"selectedIngredientsList\":\"order-card_selectedIngredientsList__2RXl7\",\"restIngredients\":\"order-card_restIngredients__RAifv\",\"restIngredientsCount\":\"order-card_restIngredientsCount__3ZDlL\",\"ingredientImage\":\"order-card_ingredientImage__2yUZX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"profile-page_main__XJiSd\",\"profileNav\":\"profile-page_profileNav__VauUs\",\"navList\":\"profile-page_navList__14jc5\",\"link\":\"profile-page_link__3_7BM\",\"activeLink\":\"profile-page_activeLink__3XZBI\",\"exictButton\":\"profile-page_exictButton__1P0L2\",\"routeSide\":\"profile-page_routeSide__13XKG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient\":\"ingredient_ingredient__3rYxz\",\"count\":\"ingredient_count__2hF71\",\"cost\":\"ingredient_cost__2m8om\",\"name\":\"ingredient_name__3ZXIb\",\"ingredientsMenuItem\":\"ingredient_ingredientsMenuItem__2on6R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bun\":\"burger_bun__3xmCH\",\"burger\":\"burger_burger__3XrHp\",\"bunChoiсe\":\"burger_bunChoiсe__1JrYk\",\"fillingChoiсe\":\"burger_fillingChoiсe__3VMGt\",\"ingredients\":\"burger_ingredients__yfC9F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"login-page_main__3oyDL\",\"form\":\"login-page_form__2zTTD\",\"nav\":\"login-page_nav__QCwgJ\",\"link\":\"login-page_link__kpw7J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ingredient-details_content__WdJuD\",\"title\":\"ingredient-details_title__2_5MB\",\"image\":\"ingredient-details_image__H2-xP\",\"nutrients\":\"ingredient-details_nutrients__3DmXA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"register-page_main__1QI1i\",\"form\":\"register-page_form__2Nx1S\",\"nav\":\"register-page_nav__11E4S\",\"link\":\"register-page_link__EPC7p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"forgot-page_main__2oXU1\",\"form\":\"forgot-page_form__1grfT\",\"nav\":\"forgot-page_nav__bQ2n-\",\"link\":\"forgot-page_link__3WXsf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"reset-page_main__1IrJL\",\"form\":\"reset-page_form__2FM4H\",\"nav\":\"reset-page_nav__3mk1_\",\"link\":\"reset-page_link__F32z4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burgerConstructor\":\"burger-constructor_burgerConstructor__1Ei5R\",\"confirmButton\":\"burger-constructor_confirmButton__3accQ\",\"total\":\"burger-constructor_total__2z4fk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"order-details_content__3oyjg\",\"done\":\"order-details_done__1ZCH5\",\"orderNumber\":\"order-details_orderNumber__7RKjN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__14tB-\",\"closeButton\":\"modal_closeButton__GP740\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aboutProfile\":\"about-profile_aboutProfile__1mAEl\",\"buttons\":\"about-profile_buttons__btYG_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"not-found_main__3u66S\",\"notFound\":\"not-found_notFound__32BmR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__llV42\"};"],"sourceRoot":""}